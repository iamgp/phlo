# Phlo Project Configuration
# Generated by: phlo services init

# Project name (used for Docker container naming)
name: glucose-platform

# Description of this data lakehouse
description: "glucose-platform data lakehouse"

# Infrastructure Configuration
# Defines service topology, container names, and network configuration
# Ports are defined in .env file
infrastructure:
  # Container naming pattern (optional override)
  # Default: {project}-{service}-1
  # Available variables: {project}, {service}
  container_naming_pattern: "{project}-{service}-1"

  # Service definitions (comprehensive, auto-generated by CLI)
  services:
    # Orchestration
    dagster_webserver:
      container_name: null  # null = use pattern above
      service_name: dagster-webserver  # docker compose service name
      host: localhost  # external access
      internal_host: dagster-webserver  # docker network

    dagster_daemon:
      container_name: null
      service_name: dagster-daemon
      internal_host: dagster-daemon

    # Data Storage
    postgres:
      container_name: null
      service_name: postgres
      host: localhost
      internal_host: postgres

    minio:
      container_name: null
      service_name: minio
      host: localhost
      internal_host: minio

    # Catalog
    nessie:
      container_name: null
      service_name: nessie
      host: localhost
      internal_host: nessie

    # Query Engine
    trino:
      container_name: null
      service_name: trino
      host: localhost
      internal_host: trino

    # BI Tools
    superset:
      container_name: null
      service_name: superset
      host: localhost
      internal_host: superset

    # APIs
    postgrest:
      container_name: null
      service_name: postgrest
      host: localhost
      internal_host: postgrest

    hasura:
      container_name: null
      service_name: hasura
      host: localhost
      internal_host: hasura

  # Network configuration (optional)
  network:
    name: null  # null = use docker compose default
    driver: bridge
