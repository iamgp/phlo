jobs:
  # Job definitions - what assets run together
  # Each job defines a collection of assets that should be executed as a unit

  nightscout:
    name: "nightscout_pipeline"
    description: "Nightscout data ingestion and processing pipeline"
    selection:
      type: "group"
      groups: ["nightscout"]
    partitions: "daily"

  github:
    name: "github_pipeline"
    description: "GitHub data ingestion and processing pipeline"
    selection:
      type: "group"
      groups: ["github"]
    partitions: "daily"

  publish:
    name: "publish_pipeline"
    description: "Publishing pipeline for all marts"
    selection:
      type: "keys"
      keys: ["publish_glucose_marts_to_postgres", "publish_github_marts_to_postgres"]
    partitions: null

  full_pipeline:
    name: "full_pipeline"
    description: "Complete pipeline: branch created automatically -> ingestion -> transformation (checks run automatically -> promotion by sensor)"
    selection:
      type: "group"
      groups: ["nightscout", "github"]
    partitions: "daily"
